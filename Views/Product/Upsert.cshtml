@model CRUD.Models.Product
@{
var title = "Create Product";
}
<form method="post"  enctype="multipart/form-data">
@if (Model.Id !=0)
{
    title = "Edit Product";
    <input asp-for="Id" hidden/>
}
   <div class="border p-3 mt-4">
    <div class="form-group row">
    <h2 class="tect-primary">@title</h2>
    </div>



  @*  <div asp-validation-summary="All"></div>*@
     <div class="mb-3">
        <label asp-for="Name"></label>
        <input asp-for="Name" class="form-cotrol" />
        <span asp-validation-for="Name" class="text-danger"></span>
     </div>
     <div class="mb-3">
    <label asp-for="Price"></label>
     <input asp-for="Price" class="form-cotrol" />
    <span asp-validation-for="Price" class="text-danger"></span>

      </div> 
     <div class="mb-3">
      <label asp-for="Description"></label>
       <textarea asp-for="Description" class="form-cotrol summernote"></textarea>
        <span asp-validation-for="Description" class="text-danger"></span>

     </div>
      <div class="mb-3">
      <label asp-for="ShortDesc"></label>
       <input asp-for="ShortDesc" class="form-cotrol "/>
        <span asp-validation-for="ShortDesc" class="text-danger"></span>

     </div>
     <div class="mb-3">
       Image
      <input type="file" name="files" id="uploadBox"  class="form-cotrol" />
      <span asp-validation-for="Price" class="text-danger"></span>

      </div>
                 <div class="form-btn-group row">
                    <div class="mb-3">

                    <label asp-for="CategoryId"></label>
                    <div class="col-8">
                    @*<Select input asp-for="CategoryId" asp-items="@ViewData["CategoryDropDown"] as IEnumerable<SelectListItem>" class="form-control" >*@
                        <Select asp-for="CategoryId" asp-items="@ViewBag.CategoryDropdown" class="form-control" >
                        <option disabled selected> Select Category</option>
                    </Select>
                   
                    <span asp-validation-for="Price" class="text-danger"></span>
                    </div>
                </div>
                </div>

                <div class="form-btn-group row">
                    <div class="mb-3">

                    <label asp-for="Applicationid"></label>
                    <div class="col-8">
                    @*<Select input asp-for="CategoryId" asp-items="@ViewData["CategoryDropDown"] as IEnumerable<SelectListItem>" class="form-control" >*@
                        <Select asp-for="Applicationid" asp-items="@ViewBag.ApplicationDropdown" class="form-control" >
                        <option disabled selected> Select Application</option>
                    </Select>
                   
                    <span asp-validation-for="Price" class="text-danger"></span>
                    </div>
                </div>
                </div>

     <div class="form-group-row">
    <div class="col-8 offset-4 row">
        
     <div class="col-4">
        <img src="@WC.Imagepath@Model.Image" width="100%" style="border-radius: 5px;border:1px solid #bbb" />
         </div>
         <div class="col-4">
        @if(Model.Id != 0)
             {
                    <input type="submit" class="btn btn-info w-100" value="Update"/>
             }
        else
        {
        <input type="submit" onclick="return validateInput()" class="btn btn-primary w-100" value="Create"/>
    
           <a asp-controller="category" asp-action="Index"  class="btn btn-secondary" style="width:150px">Back To List</a>
        }
    </div>

    </div>
    </div>

    </div>
    </form>

@section Scripts{
    @{
        <partial name="_ValidationScriptsPartial"></partial>
    }

    <script>
        $(document).ready(function() {
      $('.summernote').summernote({
          height: 250
      });
    });
    
    function validateInput() {
    if(document.getElementById("uploadBox").value==""){
        swal.fire("Error", "Please Upload a image!", "Error"
        )
        return false;
       
    }
    return true;

}

</script>
}
